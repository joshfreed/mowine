//
//  AddWineSummaryPresenter.swift
//  mowine
//
//  Created by Josh Freed on 9/21/17.
//  Copyright (c) 2017 BleepSmazz. All rights reserved.
//
//  This file was generated by the Clean Swift Xcode Templates so
//  you can apply clean architecture to your iOS and Mac projects,
//  see http://clean-swift.com
//

import UIKit

protocol AddWineSummaryPresentationLogic {
    func presentWine(response: AddWineSummary.CreateWine.Response)
    func presentRating(response: AddWineSummary.UpdateRating.Response)
    func presentWineDeleted(response: AddWineSummary.DeleteWine.Response)
}

class AddWineSummaryPresenter: AddWineSummaryPresentationLogic {
    weak var viewController: AddWineSummaryDisplayLogic?

    // MARK: Create wine

    func presentWine(response: AddWineSummary.CreateWine.Response) {
        guard let wine = response.wine else {
            return
        }
        
        var photo: UIImage?
//        if let thumbnail = response.wine?.thumbnail {
//            photo = UIImage(data: thumbnail)
//        }
        
        let viewModel = AddWineSummary.CreateWine.ViewModel(photo: photo, name: wine.name, rating: wine.rating)
        viewController?.displayCreateWine(viewModel: viewModel)
    }
    
    // MARK: Update rating
    
    func presentRating(response: AddWineSummary.UpdateRating.Response) {
        let viewModel = AddWineSummary.UpdateRating.ViewModel()
        viewController?.displayRating(viewModel: viewModel)
    }
    
    // MARK: Delete wine
    
    func presentWineDeleted(response: AddWineSummary.DeleteWine.Response) {
        let viewModel = AddWineSummary.DeleteWine.ViewModel()
        viewController?.displayWineDeleted(viewModel: viewModel)
    }
}
